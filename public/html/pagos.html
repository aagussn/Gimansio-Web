<!doctype html>
<html lang="en" ng-app="Pagos">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/common.css">

  <!-- Iconos -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" >
    <title>Personas</title>
  </head>
  <body ng-controller="myController">
    <div ng-include="'barra'"> </div>    
    <div class="container"><br><br><br></div>
    <div class="container content-wrapper">
      <div class="container">
        <h1>{{documento}} - {{personas.nombre}} {{personas.apellido}}</h1>  
        <div class="container form-row" >
          <form class="form-signin" ng-submit="submit()">
            <input id="mes" class="col-md-4" type="text" pattern="[0-9.]+" ng-model="search.mes" ng-change="clear()" placeholder="Mes" required>
            <input class="col-md-4" type="text" pattern="[0-9.]+"ng-model="search.anio" ng-change="clear()" placeholder="Anio" required>
            <input class="col-md-4" type="text" pattern="[0-9.]+" ng-model="search.tipomovimiento" ng-change="clear()" placeholder="Tipo de Movimiento" required>
            <input class="col-md-4" type="text" pattern="[0-9.]+" ng-model="search.tipopago" ng-change="clear()" placeholder="Tipo de Pago" required>
            <input class="col-md-4" type="text" pattern="[0-9.]+" ng-model="search.importe" ng-change="clear()" placeholder="Importe" required>        
            <button class="btn btn-lg btn-primary btn-block col-md-5" type="submit" id="submit" value="Submit" >Insertar pago</button>
          </form>
        </div>

        <div class="container form-row">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" >Mes</th>
                <th scope="col">Anio</th>
                <th scope="col">Tipo de movimiento</th>
                <th scope="col">Tipo Pago</th>
                <th scope="col">Importe</th>            
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in pagos | filter:search | orderBy : ['-anio', '-mes'] | limitTo: 10 ">
                <td >{{item.mes}}</th>
                <td>{{item.anio}}</td>
                <td>{{item.tipomovimiento}}</td>
                <td>{{item.tipopago}}</td>
                <td>{{item.importe}}</td>
              </tr>
            </tbody>
          </table>  
        </div>
      </div>
    </div>
    <!-- Optional JavaScript -->
  	<script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.2/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.2/angular-cookies.js"></script>
    <script src="/js/pagos.js"></script>
    
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="/js/jquery-3.3.1.min.js" ></script>
    <script src="/js/popper.min.js" ></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/common.js"></script>
  </body>
</html>